{"version":3,"file":"main.min.js","sources":["../src/main.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * AMD module\n *\n * @copyright 2025 santoshmagar.com.np\n * @author    santoshtmp7\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n *\n */\n\nimport $ from 'jquery';\n\n\nexport const main = () => {\n    window.console.log('test apguidance');\n};\n\n\nexport const theme_apguidance_setting_toggle = () => {\n    if ($('body').hasClass('pagelayout-admin')) {\n        let url = new URL(window.location.href);\n        let params = new URLSearchParams(url.search);\n        var query_title_id = params.get('title');\n        $('#page-admin-setting-themesettingapguidance #adminsettings .tab-content .tab-pane').each(function () {\n            var h3_title = $(this).find('h3.main');\n            if (h3_title) {\n                let query_title_id_true = false;\n                h3_title.addClass('theme-apguidance-setting-toggle');\n                //\n                h3_title.on('click', function () {\n                    $(this).toggleClass(\"open\");\n                    $(this).next().toggleClass(\"open\");\n                });\n                h3_title.each(function () {\n                    $(this).nextUntil('h3.main').wrapAll('<div class=\"admin-theme-apguidance-panel-content\">');\n                    let h3_title_id = 'theme-apguidance-' + ($(this).text().toLowerCase()).replace(\" \", \"-\");\n                    $(this).attr('id', h3_title_id);\n                    if (query_title_id == h3_title_id) {\n                        query_title_id_true = true;\n                    }\n                });\n                // Add 'open' class to the first h3.main in each tab-pane\n                if (!query_title_id_true) {\n                    h3_title.first().addClass('open');\n                    h3_title.first().next().addClass('open');\n                } else {\n                    $('#' + query_title_id).addClass('open');\n                    $('#' + query_title_id).next().addClass('open');\n\n                    // Change url to default moodle url\n                    let currentUrl = window.location.href;\n                    params.delete('title');\n                    window.console.log(currentUrl);\n                    currentUrl = currentUrl.replace('&title=' + query_title_id, '');\n                    window.history.replaceState('', 'url', currentUrl);\n                    //\n                    setTimeout(function () {\n                        // window.console.log(document.getElementById(query_title_id));\n                        // document.getElementById(query_title_id).scrollIntoView({ behavior: \"smooth\" });\n                        const offset = -100;\n                        const element = document.getElementById(query_title_id);\n                        if (element) {\n                            const elementPosition = element.getBoundingClientRect().top + window.scrollY;\n                            window.scrollTo({ top: elementPosition + offset, behavior: \"smooth\" });\n                        }\n\n                    }, 1000);\n                }\n            }\n        });\n        // Edit input fields with id to number field\n        let number_fields_ids = [\n            'id_s_theme_apguidance_banner_cta_count'\n        ];\n        $.each(number_fields_ids, function (index, id) {\n            $('input#' + id).attr('type', 'number');\n            $('input#' + id).attr('min', 0);\n        });\n    }\n};"],"names":["window","console","log","hasClass","url","URL","location","href","params","URLSearchParams","search","query_title_id","get","each","h3_title","this","find","query_title_id_true","addClass","on","toggleClass","next","nextUntil","wrapAll","h3_title_id","text","toLowerCase","replace","attr","currentUrl","delete","history","replaceState","setTimeout","element","document","getElementById","elementPosition","getBoundingClientRect","top","scrollY","scrollTo","behavior","first","number_fields_ids","index","id"],"mappings":";;;;;;;;iMA2BoB,KAChBA,OAAOC,QAAQC,IAAI,6DAIwB,SACvC,mBAAE,QAAQC,SAAS,oBAAqB,KACpCC,IAAM,IAAIC,IAAIL,OAAOM,SAASC,MAC9BC,OAAS,IAAIC,gBAAgBL,IAAIM,YACjCC,eAAiBH,OAAOI,IAAI,6BAC9B,oFAAoFC,MAAK,eACnFC,UAAW,mBAAEC,MAAMC,KAAK,cACxBF,SAAU,KACNG,qBAAsB,KAC1BH,SAASI,SAAS,mCAElBJ,SAASK,GAAG,SAAS,+BACfJ,MAAMK,YAAY,4BAClBL,MAAMM,OAAOD,YAAY,WAE/BN,SAASD,MAAK,+BACRE,MAAMO,UAAU,WAAWC,QAAQ,0DACjCC,YAAc,qBAAuB,mBAAET,MAAMU,OAAOC,cAAeC,QAAQ,IAAK,yBAClFZ,MAAMa,KAAK,KAAMJ,aACfb,gBAAkBa,cAClBP,qBAAsB,MAIzBA,oBAGE,qBACD,IAAMN,gBAAgBO,SAAS,4BAC/B,IAAMP,gBAAgBU,OAAOH,SAAS,YAGpCW,WAAa7B,OAAOM,SAASC,KACjCC,OAAOsB,OAAO,SACd9B,OAAOC,QAAQC,IAAI2B,YACnBA,WAAaA,WAAWF,QAAQ,UAAYhB,eAAgB,IAC5DX,OAAO+B,QAAQC,aAAa,GAAI,MAAOH,YAEvCI,YAAW,iBAIDC,QAAUC,SAASC,eAAezB,mBACpCuB,QAAS,OACHG,gBAAkBH,QAAQI,wBAAwBC,IAAMvC,OAAOwC,QACrExC,OAAOyC,SAAS,CAAEF,IAAKF,iBAJZ,IAIsCK,SAAU,cAGhE,UAvBH5B,SAAS6B,QAAQzB,SAAS,QAC1BJ,SAAS6B,QAAQtB,OAAOH,SAAS,gBA2BzC0B,kBAAoB,CACpB,0DAEF/B,KAAK+B,mBAAmB,SAAUC,MAAOC,wBACrC,SAAWA,IAAIlB,KAAK,OAAQ,8BAC5B,SAAWkB,IAAIlB,KAAK,MAAO"}